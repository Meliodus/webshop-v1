{"ast":null,"code":"import _toConsumableArray from\"/Users/riley/webshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/riley/webshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/riley/webshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/riley/webshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/riley/webshop/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import{connect}from'react-redux';import{withRouter}from'react-router-dom';import Aux from\"../../../../../../hoc/_Aux\";import Pages from\"../../../../../../store/constant\";import*as actionTypes from\"../../../../../../store/actions\";import NavIcon from'./../NavIcon';import NavBadge from'./../NavBadge';import NavItem from\"../NavItem\";import LoopNavCollapse from'./index';var NavCollapse=/*#__PURE__*/function(_Component){_inherits(NavCollapse,_Component);var _super=_createSuper(NavCollapse);function NavCollapse(){_classCallCheck(this,NavCollapse);return _super.apply(this,arguments);}_createClass(NavCollapse,[{key:\"componentDidMount\",value:function componentDidMount(){var _this=this;var currentIndex=document.location.pathname.toString().split('/').findIndex(function(id){return id===_this.props.collapse.id;});if(currentIndex>-1){this.props.onCollapseToggle(this.props.collapse.id,this.props.type);}}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,isOpen=_this$props.isOpen,isTrigger=_this$props.isTrigger;var navItems='';if(this.props.collapse.children){var collapses=this.props.collapse.children;navItems=Object.keys(collapses).map(function(item){item=collapses[item];switch(item.type){case'collapse':return/*#__PURE__*/React.createElement(LoopNavCollapse,{key:item.id,collapse:item,type:\"sub\"});case'item':return/*#__PURE__*/React.createElement(NavItem,{layout:_this2.props.layout,key:item.id,item:item});default:return false;}});}var itemTitle=this.props.collapse.title;if(this.props.collapse.icon){itemTitle=/*#__PURE__*/React.createElement(\"span\",{className:\"pcoded-mtext\"},this.props.collapse.title);}var navLinkClass=['nav-link'];var navItemClass=['nav-item','pcoded-hasmenu'];var openIndex=isOpen.findIndex(function(id){return id===_this2.props.collapse.id;});if(openIndex>-1){navItemClass=[].concat(_toConsumableArray(navItemClass),['active']);if(this.props.layout!=='horizontal'){navLinkClass=[].concat(_toConsumableArray(navLinkClass),['active']);}}var triggerIndex=isTrigger.findIndex(function(id){return id===_this2.props.collapse.id;});if(triggerIndex>-1){navItemClass=[].concat(_toConsumableArray(navItemClass),['pcoded-trigger']);}var currentIndex=document.location.pathname.toString().split('/').findIndex(function(id){return id===_this2.props.collapse.id;});if(currentIndex>-1){navItemClass=[].concat(_toConsumableArray(navItemClass),['active']);if(this.props.layout!=='horizontal'){navLinkClass=[].concat(_toConsumableArray(navLinkClass),['active']);}}var subContent=/*#__PURE__*/React.createElement(Aux,null,/*#__PURE__*/React.createElement(\"a\",{href:Pages.BLANK_LINK,className:navLinkClass.join(' '),onClick:function onClick(){return _this2.props.onCollapseToggle(_this2.props.collapse.id,_this2.props.type);}},/*#__PURE__*/React.createElement(NavIcon,{items:this.props.collapse}),itemTitle,/*#__PURE__*/React.createElement(NavBadge,{layout:this.props.layout,items:this.props.collapse})),/*#__PURE__*/React.createElement(\"ul\",{className:\"pcoded-submenu\"},navItems));var mainContent='';if(this.props.layout==='horizontal'){mainContent=/*#__PURE__*/React.createElement(\"li\",{className:navItemClass.join(' '),onMouseLeave:function onMouseLeave(){return _this2.props.onNavCollapseLeave(_this2.props.collapse.id,_this2.props.type);},onMouseEnter:function onMouseEnter(){return _this2.props.onCollapseToggle(_this2.props.collapse.id,_this2.props.type);}},subContent);}else{mainContent=/*#__PURE__*/React.createElement(\"li\",{className:navItemClass.join(' ')},subContent);}return/*#__PURE__*/React.createElement(Aux,null,mainContent);}}]);return NavCollapse;}(Component);var mapStateToProps=function mapStateToProps(state){return{layout:state.layout,isOpen:state.isOpen,isTrigger:state.isTrigger};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{onCollapseToggle:function onCollapseToggle(id,type){return dispatch({type:actionTypes.COLLAPSE_TOGGLE,menu:{id:id,type:type}});},onNavCollapseLeave:function onNavCollapseLeave(id,type){return dispatch({type:actionTypes.NAV_COLLAPSE_LEAVE,menu:{id:id,type:type}});}};};export default withRouter(connect(mapStateToProps,mapDispatchToProps)(NavCollapse));","map":{"version":3,"sources":["/Users/riley/webshop/src/App/layout/AdminLayout/Navigation/NavContent/NavCollapse/index.js"],"names":["React","Component","connect","withRouter","Aux","Pages","actionTypes","NavIcon","NavBadge","NavItem","LoopNavCollapse","NavCollapse","currentIndex","document","location","pathname","toString","split","findIndex","id","props","collapse","onCollapseToggle","type","isOpen","isTrigger","navItems","children","collapses","Object","keys","map","item","layout","itemTitle","title","icon","navLinkClass","navItemClass","openIndex","triggerIndex","subContent","BLANK_LINK","join","mainContent","onNavCollapseLeave","mapStateToProps","state","mapDispatchToProps","dispatch","COLLAPSE_TOGGLE","menu","NAV_COLLAPSE_LEAVE"],"mappings":"+qBAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,OAAQC,OAAR,KAAsB,aAAtB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CAEA,MAAOC,CAAAA,GAAP,KAAgB,4BAAhB,CACA,MAAOC,CAAAA,KAAP,KAAkB,kCAAlB,CACA,MAAO,GAAKC,CAAAA,WAAZ,KAA6B,iCAA7B,CACA,MAAOC,CAAAA,OAAP,KAAoB,cAApB,CACA,MAAOC,CAAAA,QAAP,KAAqB,eAArB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,CACA,MAAOC,CAAAA,eAAP,KAA4B,SAA5B,C,GAEMC,CAAAA,W,6RAEkB,gBAChB,GAAMC,CAAAA,YAAY,CAAKC,QAAQ,CAACC,QAAT,CAAkBC,QAAnB,CAA6BC,QAA7B,GAAwCC,KAAxC,CAA8C,GAA9C,CAAD,CAAqDC,SAArD,CAA+D,SAAAC,EAAE,QAAIA,CAAAA,EAAE,GAAK,KAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBF,EAA/B,EAAjE,CAArB,CACA,GAAIP,YAAY,CAAG,CAAC,CAApB,CAAuB,CACnB,KAAKQ,KAAL,CAAWE,gBAAX,CAA4B,KAAKF,KAAL,CAAWC,QAAX,CAAoBF,EAAhD,CAAoD,KAAKC,KAAL,CAAWG,IAA/D,EACH,CACJ,C,uCAEQ,iCACuB,KAAKH,KAD5B,CACEI,MADF,aACEA,MADF,CACUC,SADV,aACUA,SADV,CAGL,GAAIC,CAAAA,QAAQ,CAAG,EAAf,CACA,GAAI,KAAKN,KAAL,CAAWC,QAAX,CAAoBM,QAAxB,CAAkC,CAC9B,GAAMC,CAAAA,SAAS,CAAG,KAAKR,KAAL,CAAWC,QAAX,CAAoBM,QAAtC,CACAD,QAAQ,CAAGG,MAAM,CAACC,IAAP,CAAYF,SAAZ,EAAuBG,GAAvB,CAA2B,SAAAC,IAAI,CAAI,CAC1CA,IAAI,CAAGJ,SAAS,CAACI,IAAD,CAAhB,CACA,OAAQA,IAAI,CAACT,IAAb,EACI,IAAK,UAAL,CACI,mBAAO,oBAAC,eAAD,EAAiB,GAAG,CAAES,IAAI,CAACb,EAA3B,CAA+B,QAAQ,CAAEa,IAAzC,CAA+C,IAAI,CAAC,KAApD,EAAP,CACJ,IAAK,MAAL,CACI,mBAAO,oBAAC,OAAD,EAAS,MAAM,CAAE,MAAI,CAACZ,KAAL,CAAWa,MAA5B,CAAoC,GAAG,CAAED,IAAI,CAACb,EAA9C,CAAkD,IAAI,CAAEa,IAAxD,EAAP,CACJ,QACI,MAAO,MAAP,CANR,CAQH,CAVU,CAAX,CAWH,CAED,GAAIE,CAAAA,SAAS,CAAG,KAAKd,KAAL,CAAWC,QAAX,CAAoBc,KAApC,CACA,GAAI,KAAKf,KAAL,CAAWC,QAAX,CAAoBe,IAAxB,CAA8B,CAC1BF,SAAS,cAAG,4BAAM,SAAS,CAAC,cAAhB,EAAgC,KAAKd,KAAL,CAAWC,QAAX,CAAoBc,KAApD,CAAZ,CACH,CAED,GAAIE,CAAAA,YAAY,CAAG,CAAC,UAAD,CAAnB,CAEA,GAAIC,CAAAA,YAAY,CAAG,CAAC,UAAD,CAAa,gBAAb,CAAnB,CACA,GAAMC,CAAAA,SAAS,CAAGf,MAAM,CAACN,SAAP,CAAiB,SAAAC,EAAE,QAAIA,CAAAA,EAAE,GAAK,MAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBF,EAA/B,EAAnB,CAAlB,CACA,GAAIoB,SAAS,CAAG,CAAC,CAAjB,CAAoB,CAChBD,YAAY,8BAAOA,YAAP,GAAqB,QAArB,EAAZ,CACA,GAAI,KAAKlB,KAAL,CAAWa,MAAX,GAAsB,YAA1B,CAAwC,CACpCI,YAAY,8BAAOA,YAAP,GAAqB,QAArB,EAAZ,CACH,CACJ,CAED,GAAMG,CAAAA,YAAY,CAAGf,SAAS,CAACP,SAAV,CAAoB,SAAAC,EAAE,QAAIA,CAAAA,EAAE,GAAK,MAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBF,EAA/B,EAAtB,CAArB,CACA,GAAIqB,YAAY,CAAG,CAAC,CAApB,CAAuB,CACnBF,YAAY,8BAAOA,YAAP,GAAqB,gBAArB,EAAZ,CACH,CAED,GAAM1B,CAAAA,YAAY,CAAKC,QAAQ,CAACC,QAAT,CAAkBC,QAAnB,CAA6BC,QAA7B,GAAwCC,KAAxC,CAA8C,GAA9C,CAAD,CAAqDC,SAArD,CAA+D,SAAAC,EAAE,QAAIA,CAAAA,EAAE,GAAK,MAAI,CAACC,KAAL,CAAWC,QAAX,CAAoBF,EAA/B,EAAjE,CAArB,CACA,GAAIP,YAAY,CAAG,CAAC,CAApB,CAAuB,CACnB0B,YAAY,8BAAOA,YAAP,GAAqB,QAArB,EAAZ,CACA,GAAI,KAAKlB,KAAL,CAAWa,MAAX,GAAsB,YAA1B,CAAwC,CACpCI,YAAY,8BAAOA,YAAP,GAAqB,QAArB,EAAZ,CACH,CACJ,CAED,GAAMI,CAAAA,UAAU,cACZ,oBAAC,GAAD,mBACI,yBAAG,IAAI,CAAEpC,KAAK,CAACqC,UAAf,CAA2B,SAAS,CAAEL,YAAY,CAACM,IAAb,CAAkB,GAAlB,CAAtC,CAA8D,OAAO,CAAE,yBAAM,CAAA,MAAI,CAACvB,KAAL,CAAWE,gBAAX,CAA4B,MAAI,CAACF,KAAL,CAAWC,QAAX,CAAoBF,EAAhD,CAAoD,MAAI,CAACC,KAAL,CAAWG,IAA/D,CAAN,EAAvE,eACI,oBAAC,OAAD,EAAS,KAAK,CAAE,KAAKH,KAAL,CAAWC,QAA3B,EADJ,CAEKa,SAFL,cAGI,oBAAC,QAAD,EAAU,MAAM,CAAE,KAAKd,KAAL,CAAWa,MAA7B,CAAqC,KAAK,CAAE,KAAKb,KAAL,CAAWC,QAAvD,EAHJ,CADJ,cAMI,0BAAI,SAAS,CAAC,gBAAd,EACKK,QADL,CANJ,CADJ,CAYA,GAAIkB,CAAAA,WAAW,CAAG,EAAlB,CACA,GAAI,KAAKxB,KAAL,CAAWa,MAAX,GAAsB,YAA1B,CAAwC,CACpCW,WAAW,cACP,0BAAI,SAAS,CAAEN,YAAY,CAACK,IAAb,CAAkB,GAAlB,CAAf,CAAuC,YAAY,CAAE,8BAAM,CAAA,MAAI,CAACvB,KAAL,CAAWyB,kBAAX,CAA8B,MAAI,CAACzB,KAAL,CAAWC,QAAX,CAAoBF,EAAlD,CAAsD,MAAI,CAACC,KAAL,CAAWG,IAAjE,CAAN,EAArD,CAAmI,YAAY,CAAE,8BAAM,CAAA,MAAI,CAACH,KAAL,CAAWE,gBAAX,CAA4B,MAAI,CAACF,KAAL,CAAWC,QAAX,CAAoBF,EAAhD,CAAoD,MAAI,CAACC,KAAL,CAAWG,IAA/D,CAAN,EAAjJ,EACKkB,UADL,CADJ,CAKH,CAND,IAMO,CACHG,WAAW,cACP,0BAAI,SAAS,CAAEN,YAAY,CAACK,IAAb,CAAkB,GAAlB,CAAf,EACKF,UADL,CADJ,CAKH,CAED,mBACI,oBAAC,GAAD,MACKG,WADL,CADJ,CAKH,C,yBAzFqB3C,S,EA4F1B,GAAM6C,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAAC,KAAK,CAAI,CAC7B,MAAO,CACHd,MAAM,CAAEc,KAAK,CAACd,MADX,CAEHT,MAAM,CAAEuB,KAAK,CAACvB,MAFX,CAGHC,SAAS,CAAEsB,KAAK,CAACtB,SAHd,CAAP,CAKH,CAND,CAQA,GAAMuB,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,CAAAC,QAAQ,CAAI,CACnC,MAAO,CACH3B,gBAAgB,CAAE,0BAACH,EAAD,CAAKI,IAAL,QAAc0B,CAAAA,QAAQ,CAAC,CAAC1B,IAAI,CAAEjB,WAAW,CAAC4C,eAAnB,CAAoCC,IAAI,CAAE,CAAChC,EAAE,CAAEA,EAAL,CAASI,IAAI,CAAEA,IAAf,CAA1C,CAAD,CAAtB,EADf,CAEHsB,kBAAkB,CAAE,4BAAC1B,EAAD,CAAKI,IAAL,QAAc0B,CAAAA,QAAQ,CAAC,CAAC1B,IAAI,CAAEjB,WAAW,CAAC8C,kBAAnB,CAAuCD,IAAI,CAAE,CAAChC,EAAE,CAAEA,EAAL,CAASI,IAAI,CAAEA,IAAf,CAA7C,CAAD,CAAtB,EAFjB,CAAP,CAIH,CALD,CAOA,cAAepB,CAAAA,UAAU,CAACD,OAAO,CAAC4C,eAAD,CAAkBE,kBAAlB,CAAP,CAA6CrC,WAA7C,CAAD,CAAzB","sourcesContent":["import React, {Component} from 'react';\r\nimport {connect} from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\n\r\nimport Aux from \"../../../../../../hoc/_Aux\";\r\nimport Pages from \"../../../../../../store/constant\";\r\nimport * as actionTypes from \"../../../../../../store/actions\";\r\nimport NavIcon from './../NavIcon';\r\nimport NavBadge from './../NavBadge';\r\nimport NavItem from \"../NavItem\";\r\nimport LoopNavCollapse from './index';\r\n\r\nclass NavCollapse extends Component {\r\n\r\n    componentDidMount() {\r\n        const currentIndex = ((document.location.pathname).toString().split('/')).findIndex(id => id === this.props.collapse.id);\r\n        if (currentIndex > -1) {\r\n            this.props.onCollapseToggle(this.props.collapse.id, this.props.type);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {isOpen, isTrigger} = this.props;\r\n\r\n        let navItems = '';\r\n        if (this.props.collapse.children) {\r\n            const collapses = this.props.collapse.children;\r\n            navItems = Object.keys(collapses).map(item => {\r\n                item = collapses[item];\r\n                switch (item.type) {\r\n                    case 'collapse':\r\n                        return <LoopNavCollapse key={item.id} collapse={item} type=\"sub\" />;\r\n                    case 'item':\r\n                        return <NavItem layout={this.props.layout} key={item.id} item={item}/>;\r\n                    default:\r\n                        return false;\r\n                }\r\n            });\r\n        }\r\n\r\n        let itemTitle = this.props.collapse.title;\r\n        if (this.props.collapse.icon) {\r\n            itemTitle = <span className=\"pcoded-mtext\">{this.props.collapse.title}</span>;\r\n        }\r\n\r\n        let navLinkClass = ['nav-link'];\r\n\r\n        let navItemClass = ['nav-item', 'pcoded-hasmenu'];\r\n        const openIndex = isOpen.findIndex(id => id === this.props.collapse.id);\r\n        if (openIndex > -1) {\r\n            navItemClass = [...navItemClass, 'active'];\r\n            if (this.props.layout !== 'horizontal') {\r\n                navLinkClass = [...navLinkClass, 'active'];\r\n            }\r\n        }\r\n\r\n        const triggerIndex = isTrigger.findIndex(id => id === this.props.collapse.id);\r\n        if (triggerIndex > -1) {\r\n            navItemClass = [...navItemClass, 'pcoded-trigger'];\r\n        }\r\n\r\n        const currentIndex = ((document.location.pathname).toString().split('/')).findIndex(id => id === this.props.collapse.id);\r\n        if (currentIndex > -1) {\r\n            navItemClass = [...navItemClass, 'active'];\r\n            if (this.props.layout !== 'horizontal') {\r\n                navLinkClass = [...navLinkClass, 'active'];\r\n            }\r\n        }\r\n\r\n        const subContent = (\r\n            <Aux>\r\n                <a href={Pages.BLANK_LINK} className={navLinkClass.join(' ')} onClick={() => this.props.onCollapseToggle(this.props.collapse.id, this.props.type)}>\r\n                    <NavIcon items={this.props.collapse} />\r\n                    {itemTitle}\r\n                    <NavBadge layout={this.props.layout} items={this.props.collapse} />\r\n                </a>\r\n                <ul className=\"pcoded-submenu\">\r\n                    {navItems}\r\n                </ul>\r\n            </Aux>\r\n        );\r\n        let mainContent = '';\r\n        if (this.props.layout === 'horizontal') {\r\n            mainContent = (\r\n                <li className={navItemClass.join(' ')} onMouseLeave={() => this.props.onNavCollapseLeave(this.props.collapse.id, this.props.type)} onMouseEnter={() => this.props.onCollapseToggle(this.props.collapse.id, this.props.type)}>\r\n                    {subContent}\r\n                </li>\r\n            );\r\n        } else {\r\n            mainContent = (\r\n                <li className={navItemClass.join(' ')}>\r\n                    {subContent}\r\n                </li>\r\n            );\r\n        }\r\n\r\n        return (\r\n            <Aux>\r\n                {mainContent}\r\n            </Aux>\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n    return {\r\n        layout: state.layout,\r\n        isOpen: state.isOpen,\r\n        isTrigger: state.isTrigger\r\n    }\r\n};\r\n\r\nconst mapDispatchToProps = dispatch => {\r\n    return {\r\n        onCollapseToggle: (id, type) => dispatch({type: actionTypes.COLLAPSE_TOGGLE, menu: {id: id, type: type}}),\r\n        onNavCollapseLeave: (id, type) => dispatch({type: actionTypes.NAV_COLLAPSE_LEAVE, menu: {id: id, type: type}})\r\n    }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(NavCollapse));\r\n"]},"metadata":{},"sourceType":"module"}